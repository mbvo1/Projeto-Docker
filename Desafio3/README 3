# Desafio 3: Orquestra√ß√£o com Docker Compose (3 Servi√ßos)

## Objetivo
O objetivo deste desafio √© demonstrar a capacidade de orquestrar **tr√™s servi√ßos** interdependentes utilizando o **Docker Compose**. A solu√ß√£o implementa uma arquitetura Web com persist√™ncia de dados em cache (Redis) e um *Reverse Proxy* (Nginx) como ponto de entrada.


## Arquitetura e Solu√ß√£o

O sistema √© composto pelos seguintes servi√ßos, todos rodando na rede interna `minha-rede-interna`:

### Componentes

* **`redis-server` (Redis/Cache):** Armazena o contador de visitas, garantindo a persist√™ncia do valor entre acessos.
* **`meu-site` (Python + Flask):** Aplica√ß√£o principal que l√™ e incrementa o contador no Redis.
* **`nginx` (Reverse Proxy):** Ponto de entrada (porta 8081). Roteia todas as requisi√ß√µes para o `meu-site:5000` interno.

### Decis√µes T√©cnicas

1.  **Docker Compose:** Utilizado para definir e subir todos os servi√ßos com um √∫nico comando (`docker-compose up`).
2.  **Ordem de Inicializa√ß√£o (`depends_on`):** Garante que o banco (Redis) suba antes da aplica√ß√£o, e a aplica√ß√£o antes do Nginx.
3.  **Isolamento:** Apenas o Nginx exp√µe porta para o host (`8081`). O Flask e o Redis ficam protegidos na rede interna.

---

## ‚öôÔ∏è Explica√ß√£o Detalhada do Funcionamento

1.  **Acesso:** O usu√°rio acessa `http://localhost:8081`. O Nginx recebe essa requisi√ß√£o.
2.  **Roteamento:** O Nginx repassa a chamada internamente para o container da aplica√ß√£o (`http://meu-site:5000`).
3.  **Processamento:** O Flask recebe a requisi√ß√£o e conecta-se ao Redis (usando o hostname `redis-server`) para incrementar o contador de visitas.
4.  **Resposta:** O n√∫mero de visitas atualizado √© retornado ao usu√°rio atrav√©s do Nginx.

---

## üõ†Ô∏è Instru√ß√µes de Execu√ß√£o

Siga os comandos abaixo no terminal, dentro da pasta `Desafio3`:

### 1. Subir a Aplica√ß√£o
Este comando constr√≥i as imagens e inicia os containers em segundo plano:

```bash
docker-compose up -d --build

2. Testar o Funcionamento
Abra o navegador e acesse o endere√ßo abaixo. Voc√™ ver√° o contador de visitas:

URL: http://localhost:8081

Valida√ß√£o: Recarregue a p√°gina (F5) v√°rias vezes. O n√∫mero de visitas deve aumentar (1, 2, 3...), provando que o Redis est√° salvando os dados.

3. Ver Logs (Opcional)
Para ver os containers conversando entre si:

Bash
docker-compose logs -f

4. Parar e Limpar
Para encerrar os servi√ßos e remover os containers:

Bash
docker-compose down
